{"version":3,"sources":["../../src/index.js","App.js","index.js"],"names":["SmartTable","props","useState","searchedText","searchedColumn","state","setState","getSearchColumnProps","dataIndex","dateRange","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","style","padding","onChange","e","onPressEnter","handleSearch","ranges","moment","width","marginBottom","placeholder","display","value","icon","onClick","size","marginRight","type","handleReset","filterIcon","filtered","color","undefined","onFilter","date1","date2","record","render","text","autoEscape","highlightStyle","backgroundColor","searchWords","textToHighlight","d","pagination","defaultPageSize","columns","c","key","search","onRowsChange","propTypes","isRequired","dataSource","name","age","address","date","App","title","ReactDOM","document","getElementById"],"mappings":"4kBAYe,SAASA,EAAWC,GAAO,MACfC,mBAAS,CAClCC,aADkC,GAElCC,eAAgB,OAFVC,EADkC,KAC3BC,EAD2B,KAOnCC,EAAuB,SAACC,EAAWC,GAAZ,MAA2B,CACvDC,eAAgB,SAAW,GAA0D,IAAxDC,EAAwD,EAAxDA,gBAAiBC,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,aACpE,OACC,yBAAKC,MAAO,CAAEC,QAAS,IACrBP,EACA,kBAAC,IAAD,cACC,kBAAC,IAAD,aACCQ,SAAU,SAAAC,GAAC,OAAIP,EAAgB,EAAC,OAAAO,QAAC,IAADA,OAAA,EAAAA,EAAA,gBAAeA,QAAf,IAAeA,OAAf,EAAeA,EAApC,OACXC,aAAc,kBAAMC,EAAaR,EAAcC,EAAjC,IACdQ,OAAQ,CACP,cAAe,CAACC,iCAAD,OAA8CA,OAC7D,eAAgB,CAACA,kCAAD,OAA+CA,OAC/D,eAAgB,CAACA,kCAAD,OAA+CA,QAEhEP,MAAO,CAAEQ,MAAF,IAAcC,aAAc,KAEpC,uBAZQ,OAeT,uBACCP,SAAU,SAAAC,GAAC,OAAIP,EAAgBO,sBAAwB,CAACA,gBAAzBA,OAApB,KACXC,aAAc,kBAAMC,EAAaR,EAAcC,EAAjC,IACdY,YAAW,UAHZ,EAICV,MAAO,CAAEQ,MAAF,IAAcC,aAAd,EAA+BE,QAAS,SAC/CC,MAAOf,EAAa,KAGtB,uBACCgB,KAAMnB,EAAY,sBAAH,MAAsB,sBADtC,MAECoB,QAAS,kBAAMT,EAAaR,EAAcC,EAAjC,IACTiB,KAHD,QAICf,MAAO,CAAEQ,MAAF,GAAaQ,YAAa,GACjCC,KAAK,WACJvB,EAAY,SA9Bf,UAgCC,uBAAQoB,QAAS,kBAAMI,EAAN,IAAiCH,KAAlD,QAA+Df,MAAO,CAAEQ,MAAO,KAjCjF,WAuCDW,WAAY,SAAAC,GACX,SACQ,uBAAcpB,MAAO,CAAEqB,MAAOD,EAAW,eAAYE,KAErD,uBAAgBtB,MAAO,CAAEqB,MAAOD,EAAW,eAAYE,MAGhEC,SAAU,cAAmB,QAMrB,EALDC,EAAQjB,IAAM,UAACK,QAAD,yBAACA,EAAD,GAApB,KACMa,EAAQlB,IAAM,UAACK,QAAD,yBAACA,EAAD,GAApB,KAEA,OAAIY,aAAmBC,EAAvB,UACQlB,IAAOmB,EAAPnB,cAAoCiB,UAApCjB,OAA0DkB,QAAjE,QAEA,UAAOC,EAAP,uBAAOA,oCAAqDd,EAA5D,gBAGFe,OAAQ,SAAAC,GACP,OAAItC,mBAAJ,EAEE,uBACCuC,YADD,EAECC,eAAgB,CAAEC,gBAAF,UAA8B9B,QAAS,GACvD+B,YAAa,CAAC1C,EAHf,cAIC2C,gBAAiBL,eAInB,KAKGvB,EAAe,SAACR,EAAcC,EAASL,GAC5CK,IACAP,EAAS,CACRH,aAAcS,EADN,GAERR,eAAgBI,KAIZyB,EAAc,SAAAnB,GACnBA,IACAR,EAAS,EAAD,MAAaH,aAAc,OAGpC,OACC,yBACCc,SAAU,sCAAgBhB,QAAhB,IAAgBA,GAAhB,QAAC,EAAeA,EAAhB,iCAAgBA,SAAsBgD,oBAAtC,SACVC,WAAY,CAAEC,gBAAiB,KAFhC,GAICC,QAASnD,EAAA,aAAkB,SAAAoD,GAC1B,OAAIA,EAAJ,OACC,GACCC,IAAKD,EAAEE,QACJhD,EAAqB8C,EAFzB,WAKUA,EAAJ,UACN,KACI9C,EAAqB8C,EAAD,WADxB,MAKA,QArHLrD,YAAuB,CACtBwD,aAAcC,IAAS,SACvBL,QAASK,UAAgBC,Y,QCNpBC,EAAa,CAClB,CACCL,IAAK,IACLM,KAAM,OACNC,IAAK,GACLC,QAAS,oBACTC,KAAM,6BAEP,CACCT,IAAK,IACLM,KAAM,OACNC,IAAK,GACLC,QAAS,oBACTC,KAAM,8BAqCOC,EAjCH,IAEV,kBAAC,EAAD,CACCL,WAAYA,EACZP,QAAS,CACR,CACCa,MAAO,OACPzD,UAAW,OACX8C,IAAK,OACLC,OAAQ,QAET,CACCU,MAAO,MACPzD,UAAW,MACX8C,IAAK,OAEN,CACCW,MAAO,UACPzD,UAAW,UACX8C,IAAK,UACLC,OAAQ,WAET,CACCU,MAAO,OACPzD,UAAW,OACX8C,IAAK,OACL7C,UAAW,WCxChByD,IAASxB,OAAO,kBAAC,EAAD,MAASyB,SAASC,eAAe,W","file":"static/js/main.c607a2c0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Input, Table, DatePicker } from \"antd\";\nimport { FilterFilled, SearchOutlined } from \"@ant-design/icons\";\nimport Highlighter from \"react-highlight-words\";\nimport propTypes from \"prop-types\";\nimport moment from \"moment\";\n\nSmartTable.propTypes = {\n\tonRowsChange: propTypes.function,\n\tcolumns: propTypes.array.isRequired,\n};\n\nexport default function SmartTable(props) {\n\tconst [state, setState] = useState({\n\t\tsearchedText: \"\",\n\t\tsearchedColumn: null,\n\t});\n\n\t// noinspection JSUnusedGlobalSymbols\n\tconst getSearchColumnProps = (dataIndex, dateRange) => ({\n\t\tfilterDropdown: function f({ setSelectedKeys, selectedKeys, confirm, clearFilters }) {\n\t\t\treturn (\n\t\t\t\t<div style={{ padding: 8 }}>\n\t\t\t\t\t{dateRange ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<DatePicker.RangePicker\n\t\t\t\t\t\t\t\tonChange={e => setSelectedKeys([e?.[0] + \"/\" + e?.[1]])}\n\t\t\t\t\t\t\t\tonPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n\t\t\t\t\t\t\t\tranges={{\n\t\t\t\t\t\t\t\t\t\"Last 7 Days\": [moment().subtract(7, \"days\").startOf(\"day\"), moment()],\n\t\t\t\t\t\t\t\t\t\"Last 15 Days\": [moment().subtract(15, \"days\").startOf(\"day\"), moment()],\n\t\t\t\t\t\t\t\t\t\"Last 30 Days\": [moment().subtract(30, \"days\").startOf(\"day\"), moment()],\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyle={{ width: 300, marginBottom: 8 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tonChange={e => setSelectedKeys(e.currentTarget.value ? [e.currentTarget.value] : [])}\n\t\t\t\t\t\t\tonPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n\t\t\t\t\t\t\tplaceholder={`Search ${dataIndex}`}\n\t\t\t\t\t\t\tstyle={{ width: 188, marginBottom: 8, display: \"block\" }}\n\t\t\t\t\t\t\tvalue={selectedKeys[0]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={dateRange ? <FilterFilled /> : <SearchOutlined />}\n\t\t\t\t\t\tonClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{ width: 90, marginRight: 8 }}\n\t\t\t\t\t\ttype=\"primary\">\n\t\t\t\t\t\t{dateRange ? \"Filter\" : \"Search\"}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n\t\t\t\t\t\tReset\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\tfilterIcon: filtered => {\n\t\t\tif (dateRange) {\n\t\t\t\treturn <FilterFilled style={{ color: filtered ? \"#1890ff\" : undefined }} />;\n\t\t\t} else {\n\t\t\t\treturn <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />;\n\t\t\t}\n\t\t},\n\t\tonFilter: (value, record) => {\n\t\t\tconst date1 = moment(value.split(\"/\")?.[0], \"x\");\n\t\t\tconst date2 = moment(value.split(\"/\")?.[1], \"x\");\n\n\t\t\tif (date1.isValid() && date2.isValid()) {\n\t\t\t\treturn moment(record[dataIndex]).isBetween(date1.startOf(\"day\"), date2.endOf(\"day\"));\n\t\t\t} else {\n\t\t\t\treturn record[dataIndex]?.toString().toLowerCase().includes(value.toLowerCase());\n\t\t\t}\n\t\t},\n\t\trender: text => {\n\t\t\tif (state.searchedColumn === dataIndex) {\n\t\t\t\treturn (\n\t\t\t\t\t<Highlighter\n\t\t\t\t\t\tautoEscape\n\t\t\t\t\t\thighlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\n\t\t\t\t\t\tsearchWords={[state.searchedText]}\n\t\t\t\t\t\ttextToHighlight={text.toString()}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn text;\n\t\t\t}\n\t\t},\n\t});\n\n\tconst handleSearch = (selectedKeys, confirm, dataIndex) => {\n\t\tconfirm();\n\t\tsetState({\n\t\t\tsearchedText: selectedKeys[0],\n\t\t\tsearchedColumn: dataIndex,\n\t\t});\n\t};\n\n\tconst handleReset = clearFilters => {\n\t\tclearFilters();\n\t\tsetState({ ...state, searchedText: \"\" });\n\t};\n\n\treturn (\n\t\t<Table\n\t\t\tonChange={(a, b, c, d) => props?.onRowsChange?.(d.currentDataSource.length)}\n\t\t\tpagination={{ defaultPageSize: 30 }}\n\t\t\t{...props}\n\t\t\tcolumns={props.columns.map(c => {\n\t\t\t\tif (c.search) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: c.search,\n\t\t\t\t\t\t...getSearchColumnProps(c.search),\n\t\t\t\t\t\t...c,\n\t\t\t\t\t};\n\t\t\t\t} else if (c.dateRange) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...getSearchColumnProps(c.dataIndex, true),\n\t\t\t\t\t\t...c,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn c;\n\t\t\t\t}\n\t\t\t})}\n\t\t/>\n\t);\n}\n","import React from \"react\";\nimport SmartTable from \"@offset-dev/antd-smart-table\";\n\nconst dataSource = [\n\t{\n\t\tkey: \"1\",\n\t\tname: \"Mike\",\n\t\tage: 32,\n\t\taddress: \"10 Downing Street\",\n\t\tdate: \"2020-01-01T10:00:00-00:00\",\n\t},\n\t{\n\t\tkey: \"2\",\n\t\tname: \"John\",\n\t\tage: 42,\n\t\taddress: \"10 Downing Street\",\n\t\tdate: \"2020-01-02T10:00:00-00:00\",\n\t},\n];\n\nconst App = () => {\n\treturn (\n\t\t<SmartTable\n\t\t\tdataSource={dataSource}\n\t\t\tcolumns={[\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Name\",\n\t\t\t\t\tdataIndex: \"name\",\n\t\t\t\t\tkey: \"name\",\n\t\t\t\t\tsearch: \"name\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Age\",\n\t\t\t\t\tdataIndex: \"age\",\n\t\t\t\t\tkey: \"age\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Address\",\n\t\t\t\t\tdataIndex: \"address\",\n\t\t\t\t\tkey: \"address\",\n\t\t\t\t\tsearch: \"address\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"Date\",\n\t\t\t\t\tdataIndex: \"date\",\n\t\t\t\t\tkey: \"date\",\n\t\t\t\t\tdateRange: \"date\",\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n};\n\nexport default App;\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}